(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80de5d56"],{"26d8":function(e,t,a){"use strict";var l=a("614a"),r=a.n(l);r.a},"614a":function(e,t,a){},a322:function(e,t,a){"use strict";function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",function(){return l})},c93e:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var l=a("a322");function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){Object(l["a"])(e,t,a[t])})}return e}},fcb7:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("物料")]),a("div",[a("el-form",{attrs:{inline:!0,model:e.req},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:""}},[a("el-cascader",{staticStyle:{width:"600px"},attrs:{clearable:!0,"change-on-select":"",filterable:"",options:e.materialTypes,props:{value:"Id",label:"Name",children:"Childs"}},on:{change:function(t){e.page(1)}},model:{value:e.selectedMaterialType,callback:function(t){e.selectedMaterialType=t},expression:"selectedMaterialType"}}),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.getMaterialTypes}})],1),a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"模糊查询"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.page(1)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-switch",{staticStyle:{margin:"13px 20px 0 0"},attrs:{"active-text":"00半成品","inactive-text":"全部"},model:{value:e.includedDoubleZero,callback:function(t){e.includedDoubleZero=t},expression:"includedDoubleZero"}})],1),a("el-form-item",{attrs:{label:"生产工厂"}},[a("el-radio-group",{model:{value:e.slectedSite,callback:function(t){e.slectedSite=t},expression:"slectedSite"}},[a("el-radio-button",{attrs:{label:""}},[e._v("全部")]),e._v(">\n          "),a("el-radio-button",{attrs:{label:"A"}},[e._v("A")]),e._v(">\n          "),a("el-radio-button",{attrs:{label:"B"}},[e._v("B")]),e._v(">\n        ")],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.page(1)}}},[e._v("查询")])],1)],1)],1),a("div",[a("el-pagination",{attrs:{total:e.totalCount,"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.page}}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isBusy,expression:"isBusy"}],attrs:{data:e.data,"row-key":"Id","default-sort":{prop:"Id"},size:"mini",fit:!0}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-card",{staticClass:"table"},[a("div",{attrs:{slot:"hearder"},slot:"hearder"},[a("span",[e._v("物料信息")])]),a("el-form",{attrs:{"label-position":"right","label-width":"100"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"标签"}},[a("el-input",{attrs:{placeholder:"",readonly:!0,type:"textarea"},model:{value:t.row.Label,callback:function(a){e.$set(t.row,"Label",a)},expression:"props.row.Label"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"包装说明"}},[a("el-input",{attrs:{placeholder:"",readonly:!0,type:"textarea"},model:{value:t.row.PackingDesc,callback:function(a){e.$set(t.row,"PackingDesc",a)},expression:"props.row.PackingDesc"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料类型"}},[a("el-input",{attrs:{readonly:!0,placeholder:""},model:{value:t.row.TypeName,callback:function(a){e.$set(t.row,"TypeName",a)},expression:"props.row.TypeName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"过期日期"}},[a("el-input",{attrs:{placeholder:"",readonly:!0},model:{value:t.row.ExpirationDate,callback:function(a){e.$set(t.row,"ExpirationDate",a)},expression:"props.row.ExpirationDate"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单位"}},[a("el-input",{attrs:{placeholder:"",readonly:!0},model:{value:t.row.MeasureName,callback:function(a){e.$set(t.row,"MeasureName",a)},expression:"props.row.MeasureName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"默认仓库"}},[a("el-input",{attrs:{placeholder:"",readonly:!0},model:{value:t.row.WareHouseName,callback:function(a){e.$set(t.row,"WareHouseName",a)},expression:"props.row.WareHouseName"}})],1)],1)],1)],1)],1)]}}])}),a("el-table-column",{attrs:{label:"#",type:"index",width:"80"}}),a("el-table-column",{attrs:{label:"编码",prop:"Id",width:"120",sortable:""}}),a("el-table-column",{attrs:{label:"型号",prop:"Ctrl",width:"150",sortable:""}}),a("el-table-column",{attrs:{label:"名称",prop:"Name",width:"300",sortable:""}}),a("el-table-column",{attrs:{label:"形态",prop:"Form",width:"150",sortable:""}}),a("el-table-column",{attrs:{label:"开发人",prop:"Developer",width:"100",sortable:""}}),a("el-table-column",{attrs:{label:"开发月份",prop:"CreateMonth",width:"120",sortable:""}}),a("el-table-column",{attrs:{label:"工艺",prop:"ProductRouting",sortable:"",width:"180"}}),a("el-table-column",{attrs:{label:"包装规格",prop:"PackingSpec",width:"120"}}),a("el-table-column",{attrs:{label:"生产工厂",prop:"Site","sort-by":"Site",sortable:"",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio-group",{on:{change:function(a){e.updateFactory(t.row)}},model:{value:t.row.Site,callback:function(a){e.$set(t.row,"Site",a)},expression:"scope.row.Site"}},[a("el-radio",{attrs:{label:""}},[e._v("皆可")]),a("el-radio",{attrs:{label:"A"}},[e._v("A")]),a("el-radio",{attrs:{label:"B"}},[e._v("B")])],1)]}}])}),a("el-table-column",{attrs:{label:"查看配方"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:function(a){e.navigate(t.row.Id)}}},[e._v("反向")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-right"},on:{click:function(a){e.navigateFront(t.row.Id)}}},[e._v("正向")])],1)]}}])})],1),a("el-pagination",{attrs:{total:e.totalCount,"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.page}})],1)])},r=[],o=a("c93e"),n=a("a322"),i=a("c665"),s=a("dc0a"),c=a("aa9a"),u=a("d328"),p=a("11d9"),d=a("9ab4"),b=a("60a3"),m=a("2b0e"),f=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(u["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.data=[],e.isBusy=!1,e.currentPage=1,e.totalCount=0,e.pageSize=100,e.req={moduleName:"",className:"",method:"",args:{}},e}return Object(c["a"])(t,[{key:"page",value:function(e){var t=(e-1)*this.pageSize;this.query(t)}},{key:"query",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pageSize;this.isBusy=!0,this.prePareRequest(t,a),this.$Api.invoke(this.req).then(function(t){e.processResult(t)}).finally(function(){e.isBusy=!1})}},{key:"prePareRequest",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pageSize}},{key:"processResult",value:function(e){this.totalCount=e.data.data[0],this.data=e.data.data[1]}}]),Object(s["a"])(t,e),t}(m["default"]);f=d["a"]([b["a"]],f);var h=f,y=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(u["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.req={moduleName:"mes.business.pub.service",className:"MaterialService",method:"query",args:{}},e.keywords="",e.selectedMaterialType=[],e.includedDoubleZero=!1,e.slectedSite="",e.materialTypes=[],e}return Object(c["a"])(t,[{key:"prePareRequest",value:function(e,t){var a,l=this.selectedMaterialType.length,r=l>0?this.selectedMaterialType[l-1]:"";this.req.args=(a={type:r,keywards:this.keywords,isCp:this.includedDoubleZero,site:this.slectedSite},Object(n["a"])(a,"skip",e),Object(n["a"])(a,"limit",t),a)}},{key:"updateFactory",value:function(e){this.$Api.invoke({moduleName:"mes.business.pub.service",className:"MaterialService",method:"updateSite",args:{id:e.Id,site:e.SiteName}}),console.log(e)}},{key:"getMaterialTypes",value:function(){var e=this,t=Object(o["a"])({},this.req,{method:"getMaterialTypes"});this.$Api.invoke(t).then(function(t){e.materialTypes=t.data.data}).catch(function(e){console.log(e)})}},{key:"created",value:function(){this.getMaterialTypes()}},{key:"navigate",value:function(e){this.$router.push({path:"/pub/bom",query:{id:e}})}},{key:"navigateFront",value:function(e){this.$router.push({path:"/pub/track",query:{id:e}})}}]),Object(s["a"])(t,e),t}(h);y=d["a"]([b["a"]],y);var v=y,g=v,w=g,k=(a("26d8"),a("2877")),S=Object(k["a"])(w,l,r,!1,null,"2942b7eb",null);S.options.__file="material.vue";t["default"]=S.exports}}]);