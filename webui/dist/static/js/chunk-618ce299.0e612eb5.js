(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-618ce299"],{"681c":function(e,t,a){"use strict";var s=a("bf5b"),l=a.n(s);l.a},b7aa:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("实时库存")]),a("div",{staticClass:"horizontal-container"},[a("el-select",{attrs:{placeholder:"选择仓库",clearable:""},model:{value:e.selectedWarehouse,callback:function(t){e.selectedWarehouse=t},expression:"selectedWarehouse"}},e._l(e.warehouses,function(t,s){return a("el-option",{key:s,attrs:{label:t,value:t}},[e._v(e._s(t))])})),a("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":e.queryKeywards,clearable:"",placeholder:"模糊查询"},on:{select:e.getStorage},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.getStorage(t):null}},model:{value:e.keywards,callback:function(t){e.keywards=t},expression:"keywards"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.getStorage}},[e._v("查询")])],1),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isBusy,expression:"isBusy"}],staticStyle:{width:"100%"},attrs:{data:e.data,height:800,"max-height":800,"row-key":"Id"}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"物料名称",width:"250",prop:"MaterialName"}}),a("el-table-column",{attrs:{label:"物料编码",prop:"MaterialCd"}}),a("el-table-column",{attrs:{label:"物料型号",prop:"MaterialStd"}}),a("el-table-column",{attrs:{label:"物料形态",prop:"MaterialForm"}}),a("el-table-column",{attrs:{label:"库存量",prop:"Quantity",sortable:""}}),a("el-table-column",{attrs:{label:"单位",prop:"MeasureName"}}),a("el-table-column",{attrs:{label:"规格",prop:"PackingSpec"}}),a("el-table-column",{attrs:{label:"仓库",prop:"WarehourseName"}}),a("el-table-column",{attrs:{label:"公司",prop:"Corp"}}),a("el-table-column",{attrs:{label:"批次号",prop:"BatchCode",sortable:""}}),a("el-table-column",{attrs:{label:"保质期",prop:"ShelfLife"}})],1)],1)])},l=[],r=a("c665"),o=a("dc0a"),n=a("aa9a"),i=a("d328"),u=a("11d9"),c=a("9ab4"),d=a("2b0e"),p=a("60a3"),b=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(i["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.warehouses=["全部","成品库","原料库","半成品库"],e.selectedWarehouse="",e.keywards="",e.data=[],e.isBusy=!1,e.keywardsSet=[],e}return Object(n["a"])(t,[{key:"getStorage",value:function(){var e=this;this.isBusy=!0,this.$Api.invoke({moduleName:"mes.business.aps.service",className:"StorageService",method:"getStorage",args:{warehouse:this.selectedWarehouse,keywards:this.keywards.toUpperCase()}}).then(function(t){e.isBusy=!1,e.data=t.data.data})}},{key:"queryKeywards",value:function(e,t){var a=this.keywardsSet,s=e?a.filter(function(t){var a=t.value;if(null===a)return!1;var s=a.indexOf(e)>=0;return s||a.indexOf(e.toUpperCase())>=0}):a;t(s.slice(0,20))}},{key:"test",value:function(e,t){}},{key:"mounted",value:function(){var e=this;this.$Api.invoke({moduleName:"mes.business.aps.service",className:"StorageService",method:"getWarehouse",args:{}}).then(function(t){e.warehouses=t.data.data}),this.$Api.invoke({moduleName:"mes.business.aps.service",className:"StorageService",method:"getKeyWards",args:{}}).then(function(t){e.keywardsSet=t.data.data,console.log(e.keywardsSet)})}},{key:"created",value:function(){}}]),Object(o["a"])(t,e),t}(d["default"]);c["a"]([Object(p["f"])("$route"),c["b"]("design:type",Function),c["b"]("design:paramtypes",[Object,Object]),c["b"]("design:returntype",void 0)],b.prototype,"test",null),b=c["a"]([p["a"]],b);var h=b,m=h,y=m,v=(a("681c"),a("2877")),f=Object(v["a"])(y,s,l,!1,null,"41fad601",null);f.options.__file="storage.vue";t["default"]=f.exports},bf5b:function(e,t,a){}}]);