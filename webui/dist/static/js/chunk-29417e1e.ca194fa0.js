(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29417e1e"],{"3cda":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alignCenter width100"},[a("van-loading",{staticStyle:{display:"inline-block"}})],1)},c=[],i=a("c665"),o=a("dc0a"),s=a("d328"),l=a("11d9"),r=a("9ab4"),u=a("2b0e"),d=a("60a3"),h=function(t){function e(){return Object(i["a"])(this,e),Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(u["default"]);h=r["a"]([d["a"]],h);var f=h,p=f,v=p,m=(a("6e19"),a("2877")),g=Object(m["a"])(v,n,c,!1,null,"04a46e72",null);g.options.__file="crmLoading.vue";e["a"]=g.exports},"46c4":function(t,e,a){"use strict";var n=a("b970"),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom";Object(n["b"])({message:t,duration:e,position:a})},i=function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=n["a"].alert({title:t,message:e,overlay:a,closeOnClickOverlay:!0});return c},o=function(t,e){var a=n["a"].confirm({title:t,message:e});return a},s={toastMessage:c,dialogAlert:i,dialogConfirm:o};e["a"]=s},"6e19":function(t,e,a){"use strict";var n=a("82b3"),c=a.n(n);c.a},"82b3":function(t,e,a){},"9c89":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{staticClass:"headBar fixedHeader",on:{"click-left":t.goBack,"click-right":t.createCustomerContact}},[a("span",{staticClass:"icon iconfont icon-fanhui headBarIcon",attrs:{slot:"left"},slot:"left"}),a("span",{staticClass:"headBarTitle",attrs:{slot:"title"},slot:"title"},[t._v("添加客户联系人")]),a("span",{staticClass:"icon iconfont icon-queding headBarIcon",attrs:{slot:"right"},slot:"right"})]),a("div",{staticClass:"content contentTop",attrs:{id:"contentContainer"}},[a("crmLoading",{directives:[{name:"show",rawName:"v-show",value:t.isBusy,expression:"isBusy"}]}),a("van-cell-group",[a("van-field",{attrs:{label:"姓名",placeholder:"请输入联系人姓名","input-align":"right",required:""},model:{value:t.contact.Name,callback:function(e){t.$set(t.contact,"Name",e)},expression:"contact.Name"}}),a("van-field",{attrs:{label:"电话",placeholder:"请输入联系人电话","input-align":"right",required:""},model:{value:t.contact.Telephone,callback:function(e){t.$set(t.contact,"Telephone",e)},expression:"contact.Telephone"}}),a("van-field",{attrs:{label:"邮箱",placeholder:"请输入联系人邮箱","input-align":"right"},model:{value:t.contact.Email,callback:function(e){t.$set(t.contact,"Email",e)},expression:"contact.Email"}}),a("van-field",{attrs:{label:"部门",placeholder:"请输入联系人部门","input-align":"right"},model:{value:t.contact.Department,callback:function(e){t.$set(t.contact,"Department",e)},expression:"contact.Department"}}),a("van-field",{attrs:{label:"职位",placeholder:"请输入联系人职位","input-align":"right"},model:{value:t.contact.Title,callback:function(e){t.$set(t.contact,"Title",e)},expression:"contact.Title"}})],1)],1)],1)},c=[],i=a("c665"),o=a("dc0a"),s=a("aa9a"),l=a("d328"),r=a("11d9"),u=a("9ab4"),d=a("2b0e"),h=a("60a3"),f=a("3cda"),p=a("46c4"),v=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(l["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.isBusy=!1,t.customerId="",t.contact={Name:"",Telephone:"",Email:"",Department:"",Title:""},t}return Object(s["a"])(e,[{key:"created",value:function(){this.customerId=this.$route.query.customerId}},{key:"createCustomerContact",value:function(){var t=this;this.checkInput()&&(this.isBusy=!0,this.$Api.invoke({moduleName:"crm.basic.customerService",className:"CustomerService",method:"createCustomerContact",args:{customerId:this.customerId,contact:this.contact}}).then(function(e){e.data&&e.data.isSuccess?t.goBack():(p["a"].toastMessage("新增客户联系人失败!"+e.data.error),console.log(e))}).catch(function(t){p["a"].toastMessage("新增客户联系人异常!"+t),console.log(t)}).finally(function(){t.isBusy=!1}))}},{key:"checkInput",value:function(){return this.contact.Name?!!this.contact.Telephone||(p["a"].toastMessage("联系电话不能为空!"),!1):(p["a"].toastMessage("姓名不能为空!"),!1)}},{key:"goBack",value:function(){this.$router.back()}}]),Object(o["a"])(e,t),e}(d["default"]);v=u["a"]([Object(h["a"])({components:{crmLoading:f["a"]}})],v);var m=v,g=m,b=g,k=(a("a7f8"),a("2877")),C=Object(k["a"])(b,n,c,!1,null,"1e7517aa",null);C.options.__file="createContact.vue";e["default"]=C.exports},a7f8:function(t,e,a){"use strict";var n=a("ca78"),c=a.n(n);c.a},ca78:function(t,e,a){}}]);